-- Function to check if a username is whitelisted
local function isWhitelisted(username)
    -- Replace with your actual whitelist logic
    local whitelist = {
        "SkatePopular",
        "KawaiiRegency",
        "gulagula1239",
        "ervincriminality1206"
    }
    
    for _, allowedUser in ipairs(whitelist) do
        if allowedUser:lower() == username:lower() then
            return true
        end
    end
    return false
end

-- Function to kick a player from the game
local function kickPlayer(player)
    if player then
        player:Kick("You are not whitelisted to use this script.")
    end
end

-- Instances:
local WhitelistUI = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local UIGradient = Instance.new("UIGradient")
local TextLabel = Instance.new("TextLabel")
local TextButton = Instance.new("TextButton")
local UICorner = Instance.new("UICorner")
local UICorner_2 = Instance.new("UICorner")
local TextLabel_2 = Instance.new("TextLabel")

-- Properties:

WhitelistUI.Name = "WhitelistUI"
WhitelistUI.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
WhitelistUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Frame.Parent = WhitelistUI
Frame.AnchorPoint = Vector2.new(0.5, 0.5)
Frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0.5, 0, 0.5, 0)  -- Centered in the parent
Frame.Size = UDim2.new(0, 429, 0, 244)

UIGradient.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(49, 49, 49)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(22, 22, 22))}
UIGradient.Rotation = 60
UIGradient.Parent = Frame

TextLabel.Parent = Frame
TextLabel.BackgroundColor3 = Color3.fromRGB(48, 48, 48)
TextLabel.BackgroundTransparency = 1.000
TextLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextLabel.BorderSizePixel = 0
TextLabel.Position = UDim2.new(0, 0, 0, 0)
TextLabel.Size = UDim2.new(1, 0, 0, 35)
TextLabel.Font = Enum.Font.SourceSansBold
TextLabel.Text = "SAINTWARE V2 | WHITELIST"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.TextSize = 21.000

TextButton.Parent = Frame
TextButton.BackgroundColor3 = Color3.fromRGB(26, 26, 26)
TextButton.BorderColor3 = Color3.fromRGB(255, 255, 255)
TextButton.BorderSizePixel = 0
TextButton.Position = UDim2.new(0.263, 0, 0.398, 0)
TextButton.Size = UDim2.new(0, 200, 0, 50)
TextButton.Font = Enum.Font.SourceSans
TextButton.Text = "Are You Whitelisted?"
TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TextButton.TextSize = 26.000
TextButton.TextWrapped = true

UICorner.CornerRadius = UDim.new(0, 5)
UICorner.Parent = TextButton

UICorner_2.CornerRadius = UDim.new(0, 5)
UICorner_2.Parent = Frame

TextLabel_2.Parent = Frame
TextLabel_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextLabel_2.BackgroundTransparency = 1.000
TextLabel_2.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextLabel_2.BorderSizePixel = 0
TextLabel_2.Position = UDim2.new(0, 0, 0.795, 0)
TextLabel_2.Size = UDim2.new(1, 0, 0, 50)
TextLabel_2.Font = Enum.Font.SourceSans
TextLabel_2.Text = "If you aren't whitelisted, please ask the owner."
TextLabel_2.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel_2.TextSize = 23.000

-- Event handler for TextButton click
TextButton.MouseButton1Click:Connect(function()
    -- Load the script here
    if isWhitelisted(game.Players.LocalPlayer.Name) then
        local scriptUrl = 'https://raw.githubusercontent.com/SaintWare501/SaintWare/main/SaintWareV2'
        loadstring(game:HttpGet(scriptUrl))() -- Execute the script
        
        -- Destroy the GUI after success
        WhitelistUI:Destroy()
    else
        -- User is not whitelisted, kick them (optional)
        kickPlayer(game.Players.LocalPlayer)
    end
end)
